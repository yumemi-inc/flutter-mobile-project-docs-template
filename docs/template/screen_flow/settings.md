# 設定機能フロー画面遷移図

## 概要

<!--
このドキュメントでは、アプリケーションの設定画面関連の画面遷移を詳細に記載します。
設定画面からアクセスできる各種設定項目と、それらの画面遷移フローを定義します。
メインの[画面遷移図](./screen_flow.md)の一部として参照されます。
-->

このドキュメントでは、アプリケーションの設定機能に関連する画面遷移を定義します。
設定画面からFAQ、利用規約、プライバシーポリシー、ライセンス情報などの画面への遷移と、設定変更の流れを記載しています。

## 設定機能フロー詳細

### メイン設定フロー

```mermaid
graph TD
    SC002(ホーム画面) -- "設定ボタン" --> SC003(設定画面)
    SC003 -- "FAQ" --> SC004(FAQ画面)
    SC003 -- "利用規約" --> SC005(利用規約画面)
    SC003 -- "プライバシーポリシー" --> SC006(プライバシーポリシー画面)
    SC003 -- "ライセンス" --> SC007(ライセンス一覧画面)
    SC003 -- "メンテナンス" --> SC009(メンテナンス画面)
    
    SC004 -- "戻る" --> SC003
    SC005 -- "戻る" --> SC003
    SC006 -- "戻る" --> SC003
    SC007 -- "戻る" --> SC003
    SC007 -- "詳細" --> SC008(ライセンス詳細画面)
    SC008 -- "戻る" --> SC007
    SC009 -- "戻る" --> SC003
    
    SC003 -- "戻る" --> SC002
```

### ライセンス情報フロー

```mermaid
graph TD
    SC007(ライセンス一覧画面) --> FilterOptions[表示オプション]
    FilterOptions -- "すべて表示" --> ShowAll[すべてのライセンス]
    FilterOptions -- "カテゴリ別" --> CategoryFilter[カテゴリフィルター]
    
    SC007 -- "ライセンス選択" --> SC008(ライセンス詳細画面)
    SC008 -- "外部リンク" --> ExternalBrowser[外部ブラウザ]
    ExternalBrowser -- "戻る" --> SC008
    SC008 -- "戻る" --> SC007
```

### エラー処理フロー

```mermaid
graph TD
    SC003(設定画面) -- "読み込みエラー" --> LoadError[読み込みエラーダイアログ]
    LoadError -- "再試行" --> SC003
    LoadError -- "キャンセル" --> SC002(ホーム画面)
    
    SC003 -- "通信エラー" --> ConnError[通信エラーダイアログ]
    ConnError -- "再試行" --> SC003
    ConnError -- "キャンセル" --> SC002
```

## 備考

- 設定項目は利用環境やユーザー権限によって表示/非表示が切り替わります
- 各設定画面からの「戻る」操作は、直前の画面に戻ります
- ライセンス情報は外部ライブラリごとにカテゴリ分けされています
- 外部ブラウザで開くリンクは、アプリ内ブラウザではなくOSのデフォルトブラウザを使用します
