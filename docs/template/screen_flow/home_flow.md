# ホーム機能フロー画面遷移図

## 概要

<!--
このドキュメントでは、アプリケーションのホーム画面を起点とした主要機能への画面遷移を詳細に記載します。
ホーム画面からアクセスできる機能や、関連する画面遷移のフローを定義します。
メインの[画面遷移図](./screen_flow.md)の一部として参照されます。
-->

このドキュメントでは、アプリケーションのホーム画面からの主要な機能への画面遷移を定義します。
ホーム画面からの設定画面への遷移など、ユーザーの主な利用シナリオに沿った画面遷移を記載しています。

## ホーム機能フロー詳細

### メインフロー

```mermaid
graph TD
    SC002(ホーム画面) -- "設定ボタン" --> SC003(設定画面)
    SC003 -- "戻る" --> SC002
    
    SC001(ログイン画面) -- "ログイン成功" --> SC002
    SC002 -- "メンテナンス中" --> SC009(メンテナンス画面)
```

### 複数画面からのホーム画面への遷移

```mermaid
graph TD
    SC004(FAQ画面) --> BackOption{戻る操作}
    SC005(利用規約画面) --> BackOption
    SC006(プライバシーポリシー画面) --> BackOption
    
    BackOption -- "直前が設定画面" --> SC003(設定画面)
    BackOption -- "直前がホーム画面" --> SC002(ホーム画面)
    
    SC003 -- "ホームボタン" --> SC002
```

### エラー処理フロー

```mermaid
graph TD
    SC002(ホーム画面) -- "読み込みエラー" --> ReloadPrompt[再読み込みダイアログ]
    ReloadPrompt -- "再試行" --> SC002
    ReloadPrompt -- "設定" --> SC003(設定画面)
    
    SC002 -- "サーバー接続エラー" --> ConnError[接続エラーダイアログ]
    ConnError -- "再試行" --> SC002
    ConnError -- "オフラインモード" --> OfflineMode[オフラインモード]
    OfflineMode -- "再接続" --> SC002
```

## 備考

- ホーム画面はアプリの起点となる重要な画面です
- 設定画面への遷移はスライドインアニメーションを使用します
- ホーム画面は常にナビゲーションスタックの最下層に位置します
- バックボタン/スワイプでホーム画面に戻ると、スクロール位置はリセットされます
